<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interview Bridge</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<style>

/* ================= ROOT COLORS ================= */

:root{
    --bg-light: #f4f7ff;
    --bg-dark: #0b0f1a;

    --glass-light: rgba(255,255,255,0.65);
    --glass-dark: rgba(255,255,255,0.05);

    --neon-primary: #7f5af0;
    --neon-accent: #00f5ff;
    --neon-pink: #ff2dfc;
}

/* ================= BODY ================= */

body{
    font-family: 'Inter', sans-serif;
    margin:0;
    background: var(--bg-light);
    transition: background .4s ease, color .4s ease;
    overflow-x:hidden;
}

@keyframes float{
    from{ transform:translateY(0px);}
    to{ transform:translateY(60px);}
}

/* ================= SIDEBAR ================= */

.sidebar{
    position: fixed;
    height: 100vh;
    width: 270px;
    backdrop-filter: blur(25px);
    background: var(--glass-light);
    border-right: 1px solid rgba(255,255,255,0.3);
    padding: 35px 20px;
    transition: .4s ease;
    z-index: 1000;
}

.sidebar h4{
    font-weight:700;
    background: linear-gradient(90deg,var(--neon-primary),var(--neon-accent));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}

.sidebar a{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px 15px;
    margin-bottom:12px;
    border-radius:14px;
    text-decoration:none;
    color:#111;
    transition:.3s ease;
    font-weight:500;
}

.sidebar a:hover,
.sidebar a.active{
    background: linear-gradient(90deg,var(--neon-primary),var(--neon-accent));
    color:white;
    box-shadow: 0 0 18px var(--neon-accent);
    transform: translateX(6px);
}

/* ================= LOCK ICON ================= */

.lock{
    font-size:12px;
    opacity:0.6;
}

/* ================= MAIN ================= */

.main{
    margin-left:270px;
    padding:40px;
    transition:.4s ease;
}

/* ================= GLASS CARD ================= */

.card{
    background: var(--glass-light);
    backdrop-filter: blur(25px);
    border:none;
    border-radius:22px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.07);
    transition:.3s ease;
}

.card:hover{
    transform: translateY(-6px);
    box-shadow: 0 20px 50px rgba(0,0,0,0.15);
}

/* ================= BUTTON ================= */

.btn-primary{
    background: linear-gradient(90deg,var(--neon-primary),var(--neon-accent));
    border:none;
    border-radius:30px;
    padding:10px 22px;
    transition:.3s ease;
}

.btn-primary:hover{
    box-shadow: 0 0 20px var(--neon-accent);
    transform: scale(1.05);
}

/* ================= DARK MODE ================= */

.dark{
    background: var(--bg-dark);
    color:white;
}

.dark .sidebar{
    background: var(--glass-dark);
}

.dark .card{
    background: var(--glass-dark);
    color:white;
}

.dark .sidebar a{
    color:white;
}

/* ================= RESPONSIVE ================= */

@media(max-width:992px){
    .sidebar{
        left:-270px;
    }
    .sidebar.active{
        left:0;
    }
    .main{
        margin-left:0;
    }
}

/* Smooth fade animation */
.main{
    animation: fadeIn .6s ease;
}

@keyframes fadeIn{
    from{ opacity:0; transform:translateY(10px);}
    to{ opacity:1; transform:translateY(0);}
}

</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">

    <h4 class="mb-4">ðŸ¤– Interview AI</h4>

    <a href="/dashboard" class="{% if request.path.startswith('/dashboard') %}active{% endif %}">
        Dashboard
    </a>

    <a href="/improve-skill" class="{% if request.path.startswith('/improve-skill') %}active{% endif %}">
        Improve Skills
        {% if subscription == "free" %}
            <i class="fa-solid fa-lock lock"></i>
        {% endif %}
    </a>

    <a href="/chat-interview" class="{% if request.path.startswith('/chat-interview') %}active{% endif %}">
        Chat Interview
                {% if subscription == "free" %}
            <i class="fa-solid fa-lock lock"></i>
        {% endif %}
    </a>

    <a href="/voice-interview" class="{% if request.path.startswith('/voice-interview') %}active{% endif %}">
        Voice Interview
        {% if subscription == "free" %}
            <i class="fa-solid fa-lock lock"></i>
        {% endif %}
    </a>

    <!-- <a href="/final-interview" class="{% if request.path.startswith('/final-interview') %}active{% endif %}">
        Final Interview
        {% if subscription == "free" %}
            <i class="fa-solid fa-lock lock"></i>
        {% endif %}
    </a> -->

    <a href="/history" class="{% if request.path.startswith('/history') %}active{% endif %}">
        History
    </a>

    <a href="/usage" class="{% if request.path.startswith('/usage') %}active{% endif %}">
        Usage
    </a>

    <a href="/profile" class="{% if request.path.startswith('/profile') %}active{% endif %}">
        Profile
    </a>

    <a href="/logout">Logout</a>

    <hr>

    <button onclick="toggleTheme()" class="btn btn-primary w-100 mt-3">
        Toggle Theme
    </button>

</div>

<!-- MAIN -->
<div class="main">

    <button class="btn btn-primary d-lg-none mb-3" onclick="toggleSidebar()">
        â˜° Menu
    </button>

    {% block content %}{% endblock %}

</div>

<script>

/* ================= THEME PERSIST ================= */

if(localStorage.getItem("theme") === "dark"){
    document.body.classList.add("dark");
}

function toggleTheme(){
    document.body.classList.toggle("dark");
    if(document.body.classList.contains("dark")){
        localStorage.setItem("theme","dark");
    } else{
        localStorage.setItem("theme","light");
    }
}

/* ================= SIDEBAR MOBILE ================= */

function toggleSidebar(){
    document.getElementById("sidebar").classList.toggle("active");
}

</script>

</body>
</html>
